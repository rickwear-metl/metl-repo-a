{"job":{"components":{"907":{"id":907,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":480,"y":0,"width":32,"height":32,"inputConnectorIDs":[920],"outputSuccessConnectorIDs":[923],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"detect changes 0"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"detect changes"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"908":{"id":908,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":224,"y":-64,"width":32,"height":32,"inputConnectorIDs":[918],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable1results"}}}},"visible":true},"2":{"slot":2,"name":"Create Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"4":{"slot":4,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable1results"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"master_text"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"master_int"},"2":{"slot":2,"type":"STRING","value":"INTEGER"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":""}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"master_date"},"2":{"slot":2,"type":"STRING","value":"DATE"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"change_indicator"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}}},"visible":true},"6":{"slot":6,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Managed"}}}},"visible":true},"7":{"slot":7,"name":"Using","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delta"}}}},"visible":false},"8":{"slot":8,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://<bucket>/<path>"}}}},"visible":false},"9":{"slot":9,"name":"Partition Keys","elements":{},"visible":true},"10":{"slot":10,"name":"Table Properties","elements":{},"visible":true},"11":{"slot":11,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"909":{"id":909,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":224,"y":144,"width":32,"height":32,"inputConnectorIDs":[921],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable2results"}}}},"visible":true},"2":{"slot":2,"name":"Create Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"4":{"slot":4,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable2results"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"master_text"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"master_int"},"2":{"slot":2,"type":"STRING","value":"INTEGER"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":""}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"master_date"},"2":{"slot":2,"type":"STRING","value":"DATE"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}},"4":{"slot":4,"values":{"1":{"slot":1,"type":"STRING","value":"change_indicator"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":""},"4":{"slot":4,"type":"INTEGER","value":""}}}},"visible":true},"6":{"slot":6,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Managed"}}}},"visible":true},"7":{"slot":7,"name":"Using","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delta"}}}},"visible":false},"8":{"slot":8,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://<bucket>/<path>"}}}},"visible":false},"9":{"slot":9,"name":"Partition Keys","elements":{},"visible":true},"10":{"slot":10,"name":"Table Properties","elements":{},"visible":true},"11":{"slot":11,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"910":{"id":910,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":591,"y":-8,"width":32,"height":32,"inputConnectorIDs":[923],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[926,928],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 1"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"911":{"id":911,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186829,"x":720,"y":-64,"width":32,"height":32,"inputConnectorIDs":[926],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 0"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\n\n###\n# Note: Python scripts within this component are executed by the underlying virtual machine hosting Matillion ETL\n# and utilise the memory and compute of this VM, this component is not designed for large scale data processing\n# scripts involving PySpark or other such compute-intensive packages\n###\ncursor = context.cursor()\ncursor.execute('select `change_indicator`  from ' + regschema + '.`dctable1results`')\nresults = cursor.fetchall()\n\nprint results\n\nif results == [(u'C',), (u'I',), (u'I',), (u'I',), (u'I',), (u'N',)] :\n  print \"SUCCESS\"\nelse :\n  print \"something is wrong with the changes\"\n  quit(1)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false},"5":{"slot":5,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"912":{"id":912,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":-1773186829,"x":720,"y":80,"width":32,"height":32,"inputConnectorIDs":[928],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Python Script 1"}}}},"visible":true},"2":{"slot":2,"name":"Script","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"###\n# Variables are directly accessible: \n#   print myvar\n# Updating a variable:\n#   context.updateVariable('myvar', 'new-value')\n# Grid Variables are accessible via the context:\n#   print context.getGridVariable('mygridvar')\n# Updating a grid variable:\n#   context.updateGridVariable('mygridvar', [['list','of'],['lists','!']])\n# A database cursor can be accessed from the context (Jython only):\n#   cursor = context.cursor()\n#   cursor.execute('select count(*) from mytable')\n#   rowcount = cursor.fetchone()[0]\n###\n\n###\n# Note: Python scripts within this component are executed by the underlying virtual machine hosting Matillion ETL\n# and utilise the memory and compute of this VM, this component is not designed for large scale data processing\n# scripts involving PySpark or other such compute-intensive packages\n###\ncursor = context.cursor()\ncursor.execute('select `change_indicator`  from ' + regschema + '.`dctable2results`')\nresults = cursor.fetchall()\n\nprint results\n\nif results == [(u'D',), (u'C',), (u'I',), (u'I',), (u'I',), (u'I',)] :\n  print \"SUCCESS\"\nelse :\n  print \"something is wrong with the changes\"\n  quit(1)"}}}},"visible":true},"3":{"slot":3,"name":"Interpreter","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Jython"}}}},"visible":true},"4":{"slot":4,"name":"Timeout","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"INTEGER","value":"360"}}}},"visible":false},"5":{"slot":5,"name":"User","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Restricted"}}}},"visible":false}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"913":{"id":913,"inputCardinality":"ZERO","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":444132438,"x":0,"y":0,"width":32,"height":32,"inputConnectorIDs":[],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[925,927],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Start 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"914":{"id":914,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":99,"y":-6,"width":32,"height":32,"inputConnectorIDs":[925],"outputSuccessConnectorIDs":[918,919],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Table 0"}}}},"visible":true},"2":{"slot":2,"name":"Create Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"4":{"slot":4,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable1"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"text"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":"0"},"4":{"slot":4,"type":"INTEGER","value":"0"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"int"},"2":{"slot":2,"type":"STRING","value":"INTEGER"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"date"},"2":{"slot":2,"type":"STRING","value":"DATE"},"3":{"slot":3,"type":"INTEGER","value":"0"},"4":{"slot":4,"type":"INTEGER","value":"0"}}}},"visible":true},"6":{"slot":6,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Managed"}}}},"visible":true},"7":{"slot":7,"name":"Using","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delta"}}}},"visible":false},"8":{"slot":8,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://<bucket>/<path>"}}}},"visible":false},"9":{"slot":9,"name":"Partition Keys","elements":{},"visible":true},"10":{"slot":10,"name":"Table Properties","elements":{},"visible":true},"11":{"slot":11,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"915":{"id":915,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"EXECUTE","implementationID":1611478312,"x":96,"y":80,"width":32,"height":32,"inputConnectorIDs":[927],"outputSuccessConnectorIDs":[921,922],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Create Table 1"}}}},"visible":true},"2":{"slot":2,"name":"Create Method","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Replace"}}}},"visible":true},"3":{"slot":3,"name":"Database","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"[Environment Default]"}}}},"visible":true},"4":{"slot":4,"name":"Table Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"dctable2"}}}},"visible":true},"5":{"slot":5,"name":"Table Metadata","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"text"},"2":{"slot":2,"type":"STRING","value":"TEXT"},"3":{"slot":3,"type":"INTEGER","value":"0"},"4":{"slot":4,"type":"INTEGER","value":"0"}}},"2":{"slot":2,"values":{"1":{"slot":1,"type":"STRING","value":"int"},"2":{"slot":2,"type":"STRING","value":"INTEGER"},"3":{"slot":3,"type":"INTEGER","value":"10"},"4":{"slot":4,"type":"INTEGER","value":"0"}}},"3":{"slot":3,"values":{"1":{"slot":1,"type":"STRING","value":"date"},"2":{"slot":2,"type":"STRING","value":"DATE"},"3":{"slot":3,"type":"INTEGER","value":"0"},"4":{"slot":4,"type":"INTEGER","value":"0"}}}},"visible":true},"6":{"slot":6,"name":"Table Type","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Managed"}}}},"visible":true},"7":{"slot":7,"name":"Using","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"Delta"}}}},"visible":false},"8":{"slot":8,"name":"Location","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"s3://<bucket>/<path>"}}}},"visible":false},"9":{"slot":9,"name":"Partition Keys","elements":{},"visible":true},"10":{"slot":10,"name":"Table Properties","elements":{},"visible":true},"11":{"slot":11,"name":"Comment","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":""}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"916":{"id":916,"inputCardinality":"ONE","outputCardinality":"MANY","connectorHint":"SUCCESS_FAIL","executionHint":"TRANSFORM","implementationID":1896325668,"x":336,"y":0,"width":32,"height":32,"inputConnectorIDs":[924],"outputSuccessConnectorIDs":[920],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"detect changes - fill tables"}}}},"visible":true},"2":{"slot":2,"name":"Transformation Job","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"detect changes - fill tables"}}}},"visible":true},"3":{"slot":3,"name":"","elements":{},"visible":false},"4":{"slot":4,"name":"Set Scalar Variables","elements":{},"visible":true},"5":{"slot":5,"name":"Set Grid Variables","elements":{},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]},"917":{"id":917,"inputCardinality":"MANY","outputCardinality":"MANY","connectorHint":"UNCONDITIONAL","executionHint":"FLOW","implementationID":235671163,"x":220,"y":5,"width":32,"height":32,"inputConnectorIDs":[919,922],"outputSuccessConnectorIDs":[],"outputFailureConnectorIDs":[],"outputUnconditionalConnectorIDs":[924],"outputTrueConnectorIDs":[],"outputFalseConnectorIDs":[],"exportMappings":{},"parameters":{"1":{"slot":1,"name":"Name","elements":{"1":{"slot":1,"values":{"1":{"slot":1,"type":"STRING","value":"And 0"}}}},"visible":true}},"expectedFailure":null,"activationStatus":"ENABLED","outputIterationConnectorIDs":[],"inputIterationConnectorIDs":[]}},"successConnectors":{"918":{"id":918,"sourceID":914,"targetID":908},"919":{"id":919,"sourceID":914,"targetID":917},"920":{"id":920,"sourceID":916,"targetID":907},"921":{"id":921,"sourceID":915,"targetID":909},"922":{"id":922,"sourceID":915,"targetID":917},"923":{"id":923,"sourceID":907,"targetID":910}},"failureConnectors":{},"unconditionalConnectors":{"924":{"id":924,"sourceID":917,"targetID":916},"925":{"id":925,"sourceID":913,"targetID":914},"926":{"id":926,"sourceID":910,"targetID":911},"927":{"id":927,"sourceID":913,"targetID":915},"928":{"id":928,"sourceID":910,"targetID":912}},"trueConnectors":{},"falseConnectors":{},"iterationConnectors":{},"noteConnectors":{},"notes":{},"variables":{},"grids":{}},"info":{"name":"detect changes - create tables","description":null,"type":"ORCHESTRATION","tag":"2e3af30a-af5c-4b9c-9184-1656e0f2e804"}}